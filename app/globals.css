@tailwind base;
@tailwind components;
@tailwind utilities;

/* Japan-inspired color palette */
@layer base {
  :root {
    /* Core Japan-inspired colors */
    --coral-sunset: #FF6B47;    /* Main background accent, Japanese sunsets */
    --deep-ocean: #1B365D;      /* Primary text, deep Japanese waters */
    --mountain-mist: #2C5F7C;   /* Secondary elements, mountain silhouettes */
    --sakura-waters: #7BB3D3;   /* Accent highlights, temple waters */
    --cherry-blossom: #F4A6CD;  /* Call-to-action, sakura petals */
    --temple-stone: #FAF8F5;    /* Card backgrounds, traditional stone */
    --ink-black: #1A1A1A;       /* Primary text, calligraphy ink */
    --soft-mist: #F5F7FA;       /* Subtle backgrounds, morning mist */
    
    /* Map to shadcn/ui variables for consistency */
    --background: var(--temple-stone);
    --foreground: var(--ink-black);
    --accent: var(--sakura-waters);
    --border: #E8EDF2; /* Subtle border between temple-stone and soft-mist */
    
    --primary: var(--deep-ocean);
    --primary-foreground: var(--temple-stone);

    --muted: var(--soft-mist);
    --muted-foreground: var(--mountain-mist);

    --card: var(--temple-stone);
    --card-foreground: var(--ink-black);

    --popover: var(--temple-stone);
    --popover-foreground: var(--ink-black);

    --secondary: var(--mountain-mist);
    --secondary-foreground: var(--temple-stone);

    --destructive: 0 84.2% 60.2%; /* Keep default destructive */
    --destructive-foreground: 0 0% 98%;

    --ring: var(--sakura-waters);

    --radius: 0.5rem;
  }
}

/* Base typography and colors */
html,
body {
  margin: 0;
  padding: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  @apply bg-background text-foreground;
}

/* Kanji Stroke Order Animations */
.stroke-animation svg {
  width: 100%;
  height: 100%;
  max-width: 200px;
  max-height: 200px;
}

.stroke-animation path {
  stroke-dasharray: 1000;
  stroke-dashoffset: 1000;
  transition: stroke-dashoffset 0.1s ease;
  stroke: #2c2c2c;
  stroke-width: 2;
  fill: none;
}

.stroke-animation.animate path {
  animation: draw-stroke 0.8s ease-in-out forwards;
}

/* Dynamic stroke order based on KanjiVG stroke order */
.stroke-animation.animate path[id$="s1"] { animation-delay: 0s; }
.stroke-animation.animate path[id$="s2"] { animation-delay: 0.8s; }
.stroke-animation.animate path[id$="s3"] { animation-delay: 1.6s; }
.stroke-animation.animate path[id$="s4"] { animation-delay: 2.4s; }
.stroke-animation.animate path[id$="s5"] { animation-delay: 3.2s; }
.stroke-animation.animate path[id$="s6"] { animation-delay: 4.0s; }
.stroke-animation.animate path[id$="s7"] { animation-delay: 4.8s; }
.stroke-animation.animate path[id$="s8"] { animation-delay: 5.6s; }
.stroke-animation.animate path[id$="s9"] { animation-delay: 6.4s; }
.stroke-animation.animate path[id$="s10"] { animation-delay: 7.2s; }
.stroke-animation.animate path[id$="s11"] { animation-delay: 8.0s; }
.stroke-animation.animate path[id$="s12"] { animation-delay: 8.8s; }
.stroke-animation.animate path[id$="s13"] { animation-delay: 9.6s; }
.stroke-animation.animate path[id$="s14"] { animation-delay: 10.4s; }
.stroke-animation.animate path[id$="s15"] { animation-delay: 11.2s; }
.stroke-animation.animate path[id$="s16"] { animation-delay: 12.0s; }
.stroke-animation.animate path[id$="s17"] { animation-delay: 12.8s; }
.stroke-animation.animate path[id$="s18"] { animation-delay: 13.6s; }
.stroke-animation.animate path[id$="s19"] { animation-delay: 14.4s; }
.stroke-animation.animate path[id$="s20"] { animation-delay: 15.2s; }

@keyframes draw-stroke {
  to {
    stroke-dashoffset: 0;
  }
}

/* Headings using Georgia */
h1, h2, h3, h4, h5, h6 {
  font-family: Georgia, serif;
}

/* Markdown styling for chat interface */
.prose {
  @apply text-foreground;
}

.prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
  @apply font-bold mb-2 mt-4;
  font-family: Georgia, serif; /* Ensure prose headings also use Georgia */
}

.prose h1 {
  @apply text-2xl;
}

.prose h2 {
  @apply text-xl;
}

.prose h3 {
  @apply text-lg;
}

.prose p {
  @apply mb-2;
}

.prose ul, .prose ol {
  @apply pl-5 mb-2;
}

.prose ul {
  @apply list-disc;
}

.prose ol {
  @apply list-decimal;
}

.prose li {
  @apply mb-1;
}

.prose code {
  @apply bg-muted px-1 py-0.5 rounded text-sm;
  font-family: monospace;
}

.prose pre {
  @apply bg-muted p-3 rounded-md overflow-x-auto mb-2;
}

.prose pre code {
  @apply bg-transparent p-0 text-sm;
}

.prose blockquote {
  @apply border-l-4 border-accent pl-4 italic my-2;
}

.prose a {
  @apply text-primary underline;
}

.prose img {
  @apply max-w-full h-auto rounded-md my-2;
}

.prose table {
  @apply w-full border-collapse mb-2;
}

.prose table th, .prose table td {
  @apply border border-muted p-2;
}

.prose table th {
  @apply bg-muted;
}

.prose hr {
  @apply my-4 border-t border-muted;
}

.prose strong {
  @apply font-bold;
}

.prose em {
  @apply italic;
}

/* Japanese-inspired traditional patterns */
.seigaiha-pattern {
  background-image: 
    radial-gradient(circle at 50% 0%, transparent 20%, var(--sakura-waters) 21%, var(--sakura-waters) 34%, transparent 35%),
    linear-gradient(0deg, transparent 24%, var(--sakura-waters) 25%, var(--sakura-waters) 26%, transparent 27%, transparent 74%, var(--sakura-waters) 75%, var(--sakura-waters) 76%, transparent 77%);
  background-size: 40px 40px;
  opacity: 0.1;
}

.asanoha-pattern {
  background-image: 
    linear-gradient(30deg, var(--cherry-blossom) 12%, transparent 12.5%, transparent 87%, var(--cherry-blossom) 87.5%, var(--cherry-blossom)),
    linear-gradient(150deg, var(--cherry-blossom) 12%, transparent 12.5%, transparent 87%, var(--cherry-blossom) 87.5%, var(--cherry-blossom)),
    linear-gradient(30deg, var(--cherry-blossom) 12%, transparent 12.5%, transparent 87%, var(--cherry-blossom) 87.5%, var(--cherry-blossom)),
    linear-gradient(150deg, var(--cherry-blossom) 12%, transparent 12.5%, transparent 87%, var(--cherry-blossom) 87.5%, var(--cherry-blossom));
  background-size: 20px 35px;
  background-position: 0 0, 0 0, 10px 18px, 10px 18px;
  opacity: 0.05;
}

.mountain-silhouette {
  background: 
    linear-gradient(45deg, var(--deep-ocean) 0%, var(--mountain-mist) 50%, var(--sakura-waters) 100%);
  clip-path: polygon(0 80%, 20% 60%, 40% 70%, 60% 40%, 80% 55%, 100% 30%, 100% 100%, 0% 100%);
}

/* Subtle animation for Japanese elements */
.sakura-float {
  animation: sakuraFloat 6s ease-in-out infinite;
}

@keyframes sakuraFloat {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  33% { transform: translateY(-10px) rotate(2deg); }
  66% { transform: translateY(-5px) rotate(-1deg); }
}

/* Remove specific notebook styles */
.notebook-container,
.date-text,
.journal-input {
  display: none !important;
}

/* Utility class for notebook foreground color - keep if used elsewhere, otherwise remove */
.text-notebook-foreground {
  color: var(--notebook-foreground);
}
